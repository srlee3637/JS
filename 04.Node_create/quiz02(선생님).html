<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <h3>할일 목록 만들기</h3>




    <button type="button" class="delAll">전체삭제하기</button>



    <div>

        <h3 class="todoTitle" style="display:none;"></h3>
        <input type="text" class="todoName"  placeholder="이름">
        <button type="button" class="todoBtn">확인</button><br>

        <input type="text" class="todo" placeholder="할일">
        <button type="button" class="addBtn">추가</button>
        <ul class="todoList">

        </ul>

    </div>


    <script>
        var todoTitle = document.querySelector(".todoTitle");
        var todoName = document.querySelector(".todoName");
        var todoBtn = document.querySelector(".todoBtn");
        todoBtn.onclick = function() {
            todoTitle.innerHTML = todoName.value + "님 환영합니다"; 
            todoName.style.display = "none";
            todoTitle.style.display = "block";
        }

        //
        var todo = document.querySelector(".todo");
        var todoList = document.querySelector(".todoList");
        var addBtn = document.querySelector(".addBtn");
        addBtn.onclick = function() {

            var li = document.createElement("li");
            li.innerHTML = todo.value;
            todo.value = ""; //사용자입력값 초기화
            //li.innerHTML = todo.value + "<button onclick='remove(this);'>삭제</button>"; //사용자입력값
            
            //btn => 인라인, 익명함수, addEventListener
            var btn = document.createElement("button");
            btn.innerHTML = "더블클릭삭제";
            btn.ondblclick = remove;
            li.appendChild(btn);


            var btn3 = document.createElement("button");
            btn3.innerHTML = "위";
            btn3.onclick = up;
            li.appendChild(btn3);


            var btn4 = document.createElement("button");
            btn4.innerHTML = "아래";
            btn4.onclick = down;
            li.appendChild(btn4);



            todoList.appendChild(li);
        }
        //삭제
        function remove() {
            this.parentElement.remove();
        }
    
        //위
        function up() {

             
            var li1 =this.parentElement;   //2
            var li2 =this.parentElement.previousElementSibling; //1

            console.log(this.parentElement.previousElementSibling);

            var list = document.querySelector(".todoList"); 
          
            list.insertBefore(li1, li2);          
        }

        //아래
        function down() {
        
        var li1 = this.parentElement;
        var li2 = this.parentElement.nextElementSibling;
      
        var list = document.querySelector(".todoList"); 
         list.insertBefore(li2, li1);

     }


     //전체삭제기능
     
     var delAll = document.querySelector(".delAll");
     delAll.onclick=function(){

    var lis=document.querySelectorAll(".todoList > li");   
    //클릭시 얻어서  안쪽에서 얻어와야함 생기는거라서
        
    
    for(var i=0; i<lis.length; i++){
        lis[i].remove();
    }
    }
     


    </script>


</body>
</html>